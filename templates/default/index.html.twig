{% extends 'base.html.twig' %}

{% block title %}Hello DefaultController!{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="module">
        import '{{ asset('lib/bootstrap_test.js') }}';
    </script>
{% endblock %}

{% block body %}
    {% if app.user %}

        <div {{ stimulus_controller('feed-admin') }}>

            <nav class="nav nav-tabs nav-justified">
                {% for category in categories %}
                    <a
                            class="nav-link"
                            href="#"
                            {{ stimulus_action('feed-admin', 'changeCategory', 'click', {'id':category.id}) }}
                            {{ stimulus_target('feed-admin', 'tab') }}
                    >
                        {{ category }}
                    </a>
                {% endfor %}
            </nav>

            <div class="container" {{ stimulus_target('feed-admin', 'container') }}>

            </div>

        </div>

    {% else %}

        <h4>
            Use the <code>symfony console user-admin</code> command to create a user so you can
            <a href="{{ path('login') }}">log in</a>!
        </h4>

    {% endif %}
{% endblock %}
